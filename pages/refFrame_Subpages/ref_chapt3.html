<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Coordinate Translations</title>
  <link rel="stylesheet" href="../../css/reference_Frames.css">
  <title>Reference Frames</title>
</head>

<body>

  <div class="wrapper">

    <div class="antLogo">
      <img src="../../../../images/ANTLogo.png" width="125" height="125" alt="ANT Center Logo" />
    </div>

    <header class="header1">
      <h1>Coordinate <span class="translations">Translations</span></h1>
    </header>


    <nav>
      <ul class="navMenu">
        <li><a href="../../index.html">Home</a></li>
        <li><a href="../reference_Frames.html">Reference Frames &#9662;</a>
          <ul class="dropDown">
            <li><a href="ref_chapt2.html">Coordinate Systems</a></li>
            <br>
            <li><a href="ref_chapt3.html">Changing Frames</a></li>
            <br>
            <li><a href="ref_chapt4.html">Frame vs Object</a></li>
          </ul>
        </li>

        <li><a href="../moving_From_2D.html">Moving From 2D &#9662;</a>
          <ul class="dropDown">
            <li><a href="../2D_Subpages/1eulerRotations.html">Euler Rotations</a></li>
            <br>
            <li><a href="../2D_Subpages/2otherProperties.html">Other Properties</a></li>
            <br>
            <li><a href="../2D_Subpages/3fullRotation.html">Full Rotations</a></li>
            <br>
            <li><a href="../2D_Subpages/4yawPitchRoll.html">Yaw-Pitch-Roll</a></li>
          </ul>
        </li>
        </li>
      </ul>
    </nav>
  </div>

  <button onclick="topFunction()" id="myBtn" title="Return to Top">&#8593;</button>

  <div class="contentWrapper">

    <p><a name="toc.3">
        <h1>3&nbsp;Changing Coordinate Frames</h1>
        A reference frame for Cartesian coordinate systems is defined by two things: an origin and a set of orthonormal vectors that define directions away from the origin. Let's start with a change of origin location. We will be attempting to
        transform from my (<i>m</i>) coordinate frame to yours (<i>y</i>).

        <br>
        <br>
        <hr />
        <br>

        <p><small><a name="toc.3.1">
              <h2>3.1&nbsp;Handling a change in coordinate origin</h2></small>
          <i>If you and I are both facing the same direction</i>, all you need to know is where <b>I</b> am in your coordinate frame. We denote this quantity <b>m</b> where the coordinate frame's letter is bolded to show it is a vector. The
          transformation is now a simple vector addition operation
          <br>
          <center><b>x<sup>y</sup></b>=<b>x<sup>m</sup> + m</b></center>

          This addition is illustrated in Figure 2. While this equation is conceptually very simple, please realize it is for pedagogical purposes only! In fact, <i>please forget it</i> because the caveat to use it, that the axes are the same for the
          coordinate frames m and y, makes it almost useless. (That is why that equation is <i>not</i> numbered! Please don't refer to it!)

          <br>
          <br>
          <img src="../../images/moveFrom2D/report1_example2.png" width="705" height="432" alt="Example 1" style="border:2px solid black; display:block; margin-left: auto; margin-right: auto;" />

          <br>
          <br>
          <hr />
          <br>

          <p><small><a name="toc.3.2">
                <h2>3.2&nbsp;Handling different coordinate frame axes</h2></small>
            When transforming from one coordinate frame to another, we need to understand how the basis vectors are different between the coordinate frames. The mapping of the basis vectors from one reference frame into another is generally referred
            to as a <i>rotation</i>. In two dimensions (2-d), this is represented by a single rotation angle as shown in Figure 3. To convert a vector from one coordinate frame's set of vectors into another, we use a <i>Given's rotation</i> matrix,
            defined as:

            <br>
            <br>
            <img src="../../images/moveFrom2D/givenRotationMatrix.png" width="243" height="85" alt="Example 1" style="border:2px solid black; display:block; margin-left: auto; margin-right: auto;" />
            <br>

            This matrix enables the conversion of a vector between two coordinate frames with the same origin. Consider Figure 3 that has three points ({x<sub>1</sub>,x<sub>2</sub>,x<sub>3</sub>}), all
            <br>
            <br>
            <br>

            <br>
            <img src="../../images/moveFrom2D/report1_example3.png" width="964" height="418" alt="Example 1" style="border:2px solid black; display:block; margin-left: auto; margin-right: auto;" />
            <br>

            expressed in the m coordinate system. Because θ = 30◦, then rotation matrix going from m to y (denoted C<sub>m</sub><sup>y</sup>) will be:
            <br>
            <br>
            <img src="../../images/moveFrom2D/givenRotationMatrix2.png" width="195" height="108" alt="Example 1" style="border:2px solid black; display:block; margin-left: auto; margin-right: auto;" />

            <br>

            For each point in Figure 3, the location of that point in your coordinate system can be derived by multiplying the rotation matrix and the vector together, yielding:
            <br>
            <br>
          <div class="threeRotationMatrices">
            <img src="../../images/moveFrom2D/givenRotationMatrix3.png" width="284" height="212" alt="Example 1" style="border:2px solid black; display:inline;" />

            <img src="../../images/moveFrom2D/givenRotationMatrix4.png" width="284" height="212" alt="Example 1" style="border:2px solid black; display:inline;" />

            <img src="../../images/moveFrom2D/givenRotationMatrix5.png" width="284" height="212" alt="Example 1" style="border:2px solid black; display:inline;" />
            <br>
            <br>
          </div>

          <br>
          Let us consider what some of these numbers mean as observing what happens numerically can give some insight into what a proper rotation does.
          <ul>

            <li> For <b>x</b><sub>1</sub> and <b>x</b><sub>2</sub>, note what happens to the non-zero components. <b>x</b><sub>1</sub><sup>y</sup> has a negative value while <b>x</b><sub>2</sub><sup>y</sup> has a positive value. Thinking through
              whether a positive or negative value should replace a zero helps determine which way the axes are rotating and what the corresponding Given's rotation should look like.

            <li> Note that for <b>x</b><sub>1</sub> and <b>x</b><sub>2</sub>, the non-zero term does not change nearly as much as the zero term, while for <b>x</b><sub>3</sub> this does not appear to be as much of a pattern. This is reflective of the
              fact that differentially, rotations cause movement orthogonal to a vector.

            <li> Note that the output vectors of each rotation are the magnitude as the input vector. Rotations never change the length of a vector, just express them using different axes!
          </ul>

          <br>
          <br>
          <hr />
          <br>

          <p><small><a name="toc.3.2.1">
                <h3>3.2.1&nbsp;Rotation Matrix Properties</h3></small>

            Note that the Given's rotation matrix has some special properties that we should discuss. Mathematically, the matrix is a <i>special</i> orthonormal matrix, meaning it has the following properties:
          <ul>

            <li> The transpose of the matrix is also its inverse: C<sup>T</sup> = C<sup>
                <font face=symbol>-</font>1
              </sup>
              </td>
              <td nowrap align=center>
                .

            <li> Each row and column of the matrix is unit length

            <li> Each row (column) of the matrix is orthogonal to every other row (column) in the matrix.

            <li> The determinate of the matrix is +1
          </ul>

          The first property is particularly important as the rotation matrix from one coordinate frame into another frame also gives us the inverse transform. Mathematically:

          <table cellspacing=0 border=0 align=center>
            <tr>
              <td nowrap align="center">

                C<sup>y</sup><sub>m</sub> = (C<sup>m</sup><sub>y</sub>)<sup>T</sup>
              </td>
              <td nowrap align=center>

              </td>
            </tr>
          </table>

          where C<sup>T</sup>
          </td>
          <td nowrap align=center>
            represents the transpose of the matrix. This property means that if you have the matrix to go from one coordinate frame to the other, it is relatively straight-forward to go backwards as well.

            <br>
            <br>
            <hr />
            <br>

            <p><a name="toc.3.3">
                <h2>3.3&nbsp;Combined rotation and translation</h2>
                Now, let's combine these two operations together. <i>Note that you can <b>never</b> add vectors together unless the numbers inside those vectors correspond with the same vector directions</i>. This is the cause of many mistakes.
                Always, always align axes first! Linguistically, to convert a vector <b>x</b> from my coordinate system <b>x</b><sup>m</sup> to yours (<b>x</b><sup>y</sup>):
                <ol>

                  <li> Rotate the vector so the axes are aligned

                  <li> Add the origin of my coordinate frame (in your axes!) to the rotated vector
                </ol>

                Put mathematically:

                <table cellspacing=0 border=0 align=center>
                  <tr>
                    <td nowrap align="center">

                      <b>x</b><sup>y</sup> = C<sup>y</sup><sub>m</sub> <b>x</b><sup>m</sup> + <b>m</b><sup>y</sup>

                    </td>
                  </tr>
                </table>

                The inverse of this operation can also be expressed as:

                <table cellspacing=0 border=0 align=center>
                  <tr>
                    <td nowrap align="center">

                      <b>x</b><sup>m</sup> = C<sup>m</sup><sub>y</sub> <b>x</b><sup>y</sup> + <b>y</b><sup>m</sup>

                    </td>
                  </tr>
                </table>

                Note that <b>m</b><sup>y</sup> = <font face=symbol>-</font>C<sup>y</sup><sub>m</sub><b>y</b><sup>m</sup>, so we also have:

                <table cellspacing=0 border=0 align=center>
                  <tr>
                    <td nowrap align="center">

                      <b>x</b><sup>m</sup> = C<sup>m</sup><sub>y</sub>(<b>x</b><sup>y</sup>
                      <font face=symbol>-</font> <b>m</b><sup>y</sup>)

                    </td>
                  </tr>
                </table>


                Let's walk through an example. In Figure 4, the point <b>x</b><sup>y</sup> is at (3,2), the m coordinate frame axes are rotated 45° from the y coordinate frame axes, and <b>m</b><sup>y</sup> is (1,2). Given this information, we can
                solve for <b>x</b><sup>m</sup>.
                <br>
                <br>
                <img src="../../images/moveFrom2D/givenRotationMatrix6.png" width="364" height="337" alt="Example 1" style="border:2px solid black; display:block; margin-left: auto; margin-right: auto;" />
                <br>

                <img src="../../images/moveFrom2D/report1_example4.png" width="817" height="374" alt="Example 1" style="border:2px solid black; display:block; margin-left: auto; margin-right: auto;" />
                <br>

                Now, let's see if we can go backwards and recover the original vector as well.

                <br>
                <br>
                <img src="../../images/moveFrom2D/givenRotationMatrix7.png" width="378" height="246" alt="Example 1" style="border:2px solid black; display:block; margin-left: auto; margin-right: auto;" />
                <br>

                This demonstrates the capability to move from any coordinate frame to another coordinate frame and back again without loss of information.

                <br>
                <br>
                <div class="container" id="container"></div>
                <br>
                <br>
                <br>
                <br>
                <a href="ref_chapt3.html" class="previous">&larr; Previous</a>
                <a href="ref_chapt4.html" class="next">Next &rarr;</a>

                <br>
                <br>
                <hr />
                <br>
  </div>

  <script src="../../scripts/buttonScript.js"></script>

  <script src="../../js/three.js"></script>
	<script src="../../js/MTLLoader.js"></script>
	<script src="../../js/OBJLoader.js"></script>
	<script src="../../js/OrbitControls.js"></script>
	<script src="../../js/TransformControls.js"></script>
	<!-- End ThreeJS Call -->

	<!-- Script Call For Developer Defined ThreeJS Scene Render -->
	<script src="../../scripts/render_point.js"></script>
	<!-- End Script Call -->

</body>

</html>
