<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="../../css/reference_Frames.css">
  <title>Reference Frames</title>
</head>

<body>


  <div class="nav-placeholder" id="nav-placeholder"></div>

  <div class="contentWrapper">

    <p><a name="toc.3.2">
        <h2>3.2&nbsp;Handling different coordinate frame axes</h2>
        When transforming from one coordinate frame to another, we need to understand how the basis vectors are different between the coordinate frames. The mapping of the basis vectors from one reference frame into another is generally referred
        to as a <i>rotation</i>. In two dimensions (2-d), this is represented by a single rotation angle as shown in Figure 3. To convert a vector from one coordinate frame's set of vectors into another, we use a <i>Given's rotation</i> matrix,
        defined as:
        <br>
        <br>
        <div class="tableWrapper">
          <table>
            <tr>
              <td></td>
              <td>cos<i>&#8709;</i></td>
              <td>-sin<i>&#8709;</i> </td>
            </tr>

            <tr>
              <td>C( <i>&#8709;</i> &nbsp;) = </td>
              <td></td>
              <td></td>
            </tr>

            <tr>
              <td></td>
              <td>sin<i>&#8709;</i></td>
              <td>cos<i>&#8709;</i></td>
            </tr>
          </table>
        </div>
        <br>
        This matrix enables the conversion of a vector between two coordinate frames with the same origin. Consider Figure 3 that has three points ({x<sub>1</sub>,x<sub>2</sub>,x<sub>3</sub>}), all

        <br>
        <br>
          <div class="container" id="container">
            <div class="xm2"><span class="nobr">X<span class="supsub"><i>m</i><br />2</span> = (0, 2)</span></div>
            <div class="xm3"><span class="nobr">X<span class="supsub"><i>m</i><br />3</span> = (-2, 1)</span></div>
            <div class="ey2"><span class="nobr">e<span class="supsub"><i>y</i><br />2</span></span></div>
            <div class="em2"><span class="nobr">e<span class="supsub"><i>m</i><br />2</span></span></div>
            <div class="ey1"><span class="nobr">e<span class="supsub"><i>y</i><br />1</span></span></div>
            <div class="em1"><span class="nobr">e<span class="supsub"><i>m</i><br />1</span></span></div>
            <div class="xm1"><span class="nobr">X<span class="supsub"><i>m</i><br />1</span> = (2, 0)</span></div>
            <div class="origin">origin</div>
            <div class="degree"><i>&#8709;</i> = 30&#176;</div>
            <div class="explanation"><b>Figure 3: </b>Example of a rotation by <i>&#8709;</i> = 30&#176; changing a coordinate frame.</div>
          </div>

        <br>
        <br>

        <p>expressed in the m coordinate system. Because θ = 30◦, then rotation matrix going from m to y (denoted C<sub>m</sub><sup>y</sup>) will be:</p>
        <br>
        <br>
        <div class="table2Wrapper">
          <table>
            <tr>
              <td></td>
              <td><span class="nobr"><span class="supsub"><u>&#8730;3</u><br />&nbsp;2</span></span></td>
              <td><span class="nobr">&nbsp;&nbsp;<span class="supsub"><u>1</u><br />2</span></span></td>
            </tr>

            <tr>
              <td><span class="nobr">C<span class="supsub"><i>y</i><br /><i>m</i></span></span> = </td>
              <td></td>
              <td></td>
            </tr>

            <tr>
              <td></td>
              <td><span class="nobr">- <span class="supsub"><u>1</u><br />2</span></span></td>
              <td><span class="nobr">&nbsp;&nbsp;<span class="supsub"><u>&#8730;3</u><br />&nbsp;2</span></span></td>
            </tr>
          </table>
        </div>
        <br>

        For each point in Figure 3, the location of that point in your coordinate system can be derived by multiplying the rotation matrix and the vector together, yielding:
        <br>
        <br>

        <div class="firstTableSet" id="firstTableSet">
          <span class="nobr">X<span class="supsub">y<br />1</span></span> <b>=</b> <span class="nobr">C<span class="supsub">y<br />m</span></span> <span class="nobr">X<span class="supsub">m<br />1</span></span>
          <br>
          <br>
          <table style="display:inline-block;">
            <tr>
              <td></td>
              <td><span class="nobr"><span class="supsub"><u>&#8730;3</u><br />&nbsp;2</span></span></td>
              <td><span class="nobr">&nbsp;&nbsp;<span class="supsub"><u>1</u><br />2</span></span></td>
            </tr>

            <tr>
              <td> <b>=</b> </td>
              <td></td>
              <td></td>
            </tr>

            <tr>
              <td></td>
              <td><span class="nobr">- <span class="supsub"><u>1</u><br />2</span></span></td>
              <td><span class="nobr">&nbsp;&nbsp;<span class="supsub"><u>&#8730;3</u><br />&nbsp;2</span></span></td>
            </tr>
          </table>
          &nbsp;&nbsp;&nbsp;&nbsp;
          <table class="thirdTable" id="thirdTable">
            <tr>
              <td>2</td>
            </tr>
            <tr>
              <td>&nbsp;</td>
            </tr>
            <tr>
              <td>0</td>
            </tr>
          </table>
          <br>
          <br>

          <table class="fourthTable" id="fourthTable">
            <tr>
              <td></td>
              <td>&#8730;3</td>
            </tr>

            <tr>
              <td> <b>=</b> </td>
              <td></td>

            </tr>

            <tr>
              <td></td>
              <td>-1</td>

            </tr>
          </table>

          <table class="fourthTable" id="fourthTable">
            <tr>
              <td></td>
              <td>1.73</td>
            </tr>

            <tr>
              <td> <b>&#8776;</b> </td>
              <td></td>

            </tr>

            <tr>
              <td></td>
              <td>&nbsp;&nbsp;&nbsp;1</td>

            </tr>
          </table>
        </div>

        <!--Temporary spam to space this stuff out-->
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

        <div class="secondTableSet" id="secondTableSet">
          <span class="nobr">X<span class="supsub">y<br />2</span></span> <b>=</b> <span class="nobr">C<span class="supsub">y<br />m</span></span> <span class="nobr">X<span class="supsub">m<br />2</span></span>
          <br>
          <br>
          <table style="display:inline-block;">
            <tr>
              <td></td>
              <td><span class="nobr"><span class="supsub"><u>&#8730;3</u><br />&nbsp;2</span></span></td>
              <td><span class="nobr">&nbsp;&nbsp;<span class="supsub"><u>1</u><br />2</span></span></td>
            </tr>

            <tr>
              <td> <b>=</b> </td>
              <td></td>
              <td></td>
            </tr>

            <tr>
              <td></td>
              <td><span class="nobr">- <span class="supsub"><u>1</u><br />2</span></span></td>
              <td><span class="nobr">&nbsp;&nbsp;<span class="supsub"><u>&#8730;3</u><br />&nbsp;2</span></span></td>
            </tr>
          </table>
          &nbsp;&nbsp;&nbsp;&nbsp;
          <table class="thirdTable" id="thirdTable">
            <tr>
              <td>0</td>
            </tr>
            <tr>
              <td>&nbsp;</td>
            </tr>
            <tr>
              <td>2</td>
            </tr>
          </table>
          <br>
          <br>

          <table class="fourthTable" id="fourthTable">
            <tr>
              <td></td>
              <td>1</td>
            </tr>

            <tr>
              <td> <b>=</b> </td>
              <td></td>

            </tr>

            <tr>
              <td></td>
              <td>&#8730;3</td>

            </tr>
          </table>

          <table class="fourthTable" id="fourthTable">
            <tr>
              <td></td>
              <td>&nbsp;&nbsp;&nbsp;1</td>
            </tr>

            <tr>
              <td> <b>&#8776;</b> </td>
              <td></td>

            </tr>

            <tr>
              <td></td>
              <td>1.73</td>

            </tr>
          </table>
        </div>


        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

        <div class="thirdTableSet" id="thirdTableSet">
          <span class="nobr">X<span class="supsub">y<br />2</span></span> <b>=</b> <span class="nobr">C<span class="supsub">y<br />m</span></span> <span class="nobr">X<span class="supsub">m<br />2</span></span>
          <br>
          <br>
          <table style="display:inline-block;">
            <tr>
              <td></td>
              <td><span class="nobr"><span class="supsub"><u>&#8730;3</u><br />&nbsp;2</span></span></td>
              <td><span class="nobr">&nbsp;&nbsp;<span class="supsub"><u>1</u><br />2</span></span></td>
            </tr>

            <tr>
              <td> <b>=</b> </td>
              <td></td>
              <td></td>
            </tr>

            <tr>
              <td></td>
              <td><span class="nobr">- <span class="supsub"><u>1</u><br />2</span></span></td>
              <td><span class="nobr">&nbsp;&nbsp;<span class="supsub"><u>&#8730;3</u><br />&nbsp;2</span></span></td>
            </tr>
          </table>
          &nbsp;&nbsp;&nbsp;&nbsp;
          <table class="thirdTable" id="thirdTable">
            <tr>
              <td>-2</td>
            </tr>
            <tr>
              <td>&nbsp;</td>
            </tr>
            <tr>
              <td>&nbsp;1</td>
            </tr>
          </table>
          <br>
          <br>

          <table style="display:inline-block;">
            <tr>
              <td></td>
              <td><span class="nobr"><span class="supsub"><u>1</u><br />2</span></span></td>
              <td>&#8730;3</td>
            </tr>

            <tr>
              <td> <b>=</b> </td>
              <td></td>
              <td></td>
            </tr>

            <tr>
              <td></td>
              <td>1 + </td>
              <td><span class="nobr">&nbsp;&nbsp;<span class="supsub"><u>&#8730;3</u><br />&nbsp;2</span></span></td>
            </tr>
          </table>

          <table class="fourthTable" id="fourthTable">
            <tr>
              <td></td>
              <td>-1.23</td>
            </tr>

            <tr>
              <td> <b>&#8776;</b> </td>
              <td></td>

            </tr>

            <tr>
              <td></td>
              <td>&nbsp;1.87</td>

            </tr>
          </table>
        </div>
        <br>
        <br>

        Let us consider what some of these numbers mean as observing what happens numerically can give some insight into what a proper rotation does.
        <ul>

          <li> For <b>x</b><sub>1</sub> and <b>x</b><sub>2</sub>, note what happens to the non-zero components. <b>x</b><sub>1</sub><sup>y</sup> has a negative value while <b>x</b><sub>2</sub><sup>y</sup> has a positive value. Thinking through
            whether a positive or negative value should replace a zero helps determine which way the axes are rotating and what the corresponding Given's rotation should look like.

          <li> Note that for <b>x</b><sub>1</sub> and <b>x</b><sub>2</sub>, the non-zero term does not change nearly as much as the zero term, while for <b>x</b><sub>3</sub> this does not appear to be as much of a pattern. This is reflective of the
            fact that differentially, rotations cause movement orthogonal to a vector.

          <li> Note that the output vectors of each rotation are the magnitude as the input vector. Rotations never change the length of a vector, just express them using different axes!
        </ul>

        <br>
        <br>
        <hr />
        <br>

        <p><a name="toc.3.2.1">
            <h3>3.2.1&nbsp;Rotation Matrix Properties</h3>

            Note that the Given's rotation matrix has some special properties that we should discuss. Mathematically, the matrix is a <i>special</i> orthonormal matrix, meaning it has the following properties:
            <ul>

              <li> The transpose of the matrix is also its inverse: C<sup>T</sup> = C<sup>
                  <font face=symbol>-</font>1
                </sup>
                </td>
                <td nowrap align=center>
                  .

              <li> Each row and column of the matrix is unit length

              <li> Each row (column) of the matrix is orthogonal to every other row (column) in the matrix.

              <li> The determinate of the matrix is +1
            </ul>

            The first property is particularly important as the rotation matrix from one coordinate frame into another frame also gives us the inverse transform. Mathematically:

            <table cellspacing=0 border=0 align=center>
              <tr>
                <td nowrap align="center">

                  C<sup>y</sup><sub>m</sub> = (C<sup>m</sup><sub>y</sub>)<sup>T</sup>
                </td>
                <td nowrap align=center>

                </td>
              </tr>
            </table>

            where C<sup>T</sup>
            </td>
            <td nowrap align=center>
              represents the transpose of the matrix. This property means that if you have the matrix to go from one coordinate frame to the other, it is relatively straight-forward to go backwards as well.

              <br>
              <br>

              <a href="refFrames3.html" class="previous">&larr; Previous</a>
              <a href="refFrames5.html" class="next">Next &rarr;</a>

              <br>
              <br>
              <hr />
              <br>


  </div>

  <script src="../../js/three.js"></script>
  <script src="../../js/MTLLoader.js"></script>
  <script src="../../js/OBJLoader.js"></script>
  <script src="../../js/OrbitControls.js"></script>
  <script src="../../js/TransformControls.js"></script>
  <!-- End ThreeJS Call -->

  <!-- Script Call For Developer Defined ThreeJS Scene Render -->
  <script src="../../scripts/rotationBy30_example.js"></script>
  <!-- End Script Call -->

  <!--Navigation bar-->
  <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
  <script>
    $(function() {
      $("#nav-placeholder").load("../nav.html");
    });
  </script>

</body>

</html>
